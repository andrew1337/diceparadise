(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4],{1676:function(e,t,r){Promise.resolve().then(r.bind(r,3697))},3697:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return o}});var n=r(7437),l=r(2265),a=r(430);r(3009);let s=e=>{let{usernames:t,setUsers:r,resetDices:l,resetAll:a}=e,s=(e,n)=>r(t.map(t=>t.id===n?{...t,name:e}:t)),i=(e,n,l)=>{r(t.map(t=>t.id===n?{...t,[l]:Number(e)}:t))};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("div",{className:"usernames",children:t.map(e=>(0,n.jsxs)("div",{className:"usernames-row",children:[(0,n.jsxs)("div",{children:["Player ",e.id+1]}),(0,n.jsx)("input",{type:"text",className:"usernames-input",value:e.name,onChange:t=>s(t.target.value,e.id),placeholder:"Enter player name"}),(0,n.jsx)("div",{children:"Primary roll"}),(0,n.jsx)("input",{type:"number",min:3,max:18,value:e.primary_roll||void 0,onChange:t=>i(t.target.value,e.id,"primary_roll")}),(0,n.jsx)("div",{children:"Optional roll"}),(0,n.jsx)("input",{type:"number",min:3,max:18,value:e.optional_roll||void 0,onChange:t=>i(t.target.value,e.id,"optional_roll")})]},e.id))}),(0,n.jsx)("button",{className:"reset",type:"button",onClick:l,children:"Reset dices"}),(0,n.jsx)("button",{className:"reset all",type:"button",onClick:a,children:"Reset Players"})]})},i={id:0,name:"",primary_roll:0,optional_roll:0};var o=()=>{var e;let t=JSON.parse(null===(e=window.localStorage)||void 0===e?void 0:e.getItem("usernames")),[r,o]=(0,l.useState)(null==t?void 0:t.length),[u,c]=(0,a.Z)("usernames",t||[]),d=e=>{o(e)},m=(0,l.useCallback)(()=>{d(void 0),c([])},[]),p=()=>{let e=[];if(u.length<r)for(let t=0;t<r;t++)e.push({...i,id:t});else e=u.sort((e,t)=>t.primary_roll-e.primary_roll||t.optional_roll-e.optional_roll).slice(0,r);c(e)};return(0,l.useEffect)(()=>{p()},[r]),(0,n.jsxs)("div",{className:"controls",children:[(0,n.jsxs)("div",{className:"count",children:["Start count of users:",(0,n.jsxs)("div",{className:"item",children:[(0,n.jsx)("input",{type:"radio",name:"count",id:"12",value:12,checked:12===r,onChange:()=>d(12)}),(0,n.jsx)("label",{htmlFor:"12",children:"12"})]}),(0,n.jsxs)("div",{className:"item",children:[(0,n.jsx)("input",{type:"radio",name:"count",id:"6",value:6,checked:6===r,onChange:()=>d(6)}),(0,n.jsx)("label",{htmlFor:"6",children:"6"})]})]}),r&&(0,n.jsx)(s,{usernames:u,setUsers:c,resetDices:()=>{c(u.map(e=>({...e,primary_roll:0,optional_roll:0})).sort((e,t)=>e.id-t.id))},resetAll:m})]})}},430:function(e,t,r){"use strict";r.d(t,{Z:function(){return l}});var n=r(2265);function l(e,t){let[r,l]=(0,n.useState)(t),[a,s]=(0,n.useState)(!1);return(0,n.useEffect)(()=>{l((()=>{try{let r=window.localStorage.getItem(e);return r?JSON.parse(r):t}catch(e){return t}})()),s(!0)},[e]),(0,n.useEffect)(()=>{let t=t=>{t.key===e&&t.newValue&&l(JSON.parse(t.newValue))};return window.addEventListener("storage",t),()=>{window.removeEventListener("storage",t)}},[e]),[r,t=>{let n=t instanceof Function?t(r):t;(function(t){if(a)try{window.localStorage.setItem(e,JSON.stringify(t)),window.dispatchEvent(new StorageEvent("storage",{key:e,newValue:JSON.stringify(t)}))}catch(e){}})(n),l(n)}]}},3009:function(){},622:function(e,t,r){"use strict";var n=r(2265),l=Symbol.for("react.element"),a=Symbol.for("react.fragment"),s=Object.prototype.hasOwnProperty,i=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,o={key:!0,ref:!0,__self:!0,__source:!0};function u(e,t,r){var n,a={},u=null,c=null;for(n in void 0!==r&&(u=""+r),void 0!==t.key&&(u=""+t.key),void 0!==t.ref&&(c=t.ref),t)s.call(t,n)&&!o.hasOwnProperty(n)&&(a[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps)void 0===a[n]&&(a[n]=t[n]);return{$$typeof:l,type:e,key:u,ref:c,props:a,_owner:i.current}}t.Fragment=a,t.jsx=u,t.jsxs=u},7437:function(e,t,r){"use strict";e.exports=r(622)}},function(e){e.O(0,[971,938,744],function(){return e(e.s=1676)}),_N_E=e.O()}]);