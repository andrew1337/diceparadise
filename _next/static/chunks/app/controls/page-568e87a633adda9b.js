(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4],{1676:function(e,r,t){Promise.resolve().then(t.bind(t,5716))},5716:function(e,r,t){"use strict";t.r(r),t.d(r,{default:function(){return d}});var n={};t.r(n),t.d(n,{default:function(){return d}});var s=t(7437),l=t(2265),i=t(430);t(3009);let a=e=>{let{usernames:r,setUsers:t,resetDices:n,resetAll:l}=e,i=(e,n)=>t(r.map(r=>r.id===n?{...r,name:e}:r)),a=(e,n,s)=>{t(r.map(r=>r.id===n?{...r,[s]:Number(e)}:r))};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("div",{className:"usernames",children:r.map(e=>(0,s.jsxs)("div",{className:"usernames-row",children:[(0,s.jsxs)("div",{children:["Player ",e.id+1]}),(0,s.jsx)("input",{type:"text",className:"usernames-input",value:e.name,onChange:r=>i(r.target.value,e.id),placeholder:"Enter player name"}),(0,s.jsx)("div",{children:"Primary roll"}),(0,s.jsx)("input",{type:"number",min:3,max:18,value:e.primary_roll||void 0,onChange:r=>a(r.target.value,e.id,"primary_roll")}),(0,s.jsx)("div",{children:"Optional roll"}),(0,s.jsx)("input",{type:"number",min:3,max:18,value:e.optional_roll||void 0,onChange:r=>a(r.target.value,e.id,"optional_roll")})]},e.id))}),(0,s.jsx)("button",{className:"reset",type:"button",onClick:n,children:"Reset dices"}),(0,s.jsx)("button",{className:"reset all",type:"button",onClick:l,children:"Reset Players"})]})};t(9125);let o=e=>{let{prizes:r,setPrizes:t}=e,l=(e,n)=>t(r.map((r,t)=>t===n?Number(e):r));return(0,s.jsx)(s.Fragment,{children:(0,s.jsxs)("div",{className:"prizes",children:[r.map((e,r)=>(0,s.jsxs)("div",{className:"prizes-row",children:[(0,s.jsxs)("div",{children:["Prize #",r+1]}),(0,s.jsx)("input",{type:"number",className:"prize-input",value:e||void 0,onChange:e=>l(e.target.value,r),placeholder:"Enter GEL amount"})]},r)),(0,s.jsx)("button",{className:"reset",type:"button",onClick:()=>t(n.defaultPrizes),children:"Reset prizes"})]})})},u={id:0,name:"",primary_roll:0,optional_roll:0},c=[0,0,0,0,0,0];var d=()=>{var e;let r=JSON.parse(null===(e=window.localStorage)||void 0===e?void 0:e.getItem("users")),[t,n]=(0,l.useState)(null==r?void 0:r.length),[d,p]=(0,i.Z)("users",r||[]),[m,f]=(0,i.Z)("prizes",c),v=e=>{n(e)},h=(0,l.useCallback)(()=>{v(void 0),p([])},[]),y=()=>{let e=[];if(d.length<t)for(let r=0;r<t;r++)e.push({...u,id:r});else e=d.sort((e,r)=>r.primary_roll-e.primary_roll||r.optional_roll-e.optional_roll).slice(0,t);p(e)};return(0,l.useEffect)(()=>{y()},[t]),(0,s.jsxs)("div",{className:"controls",children:[(0,s.jsxs)("div",{children:[(0,s.jsxs)("div",{className:"count",children:["Start count of users:",(0,s.jsxs)("div",{className:"item",children:[(0,s.jsx)("input",{type:"radio",name:"count",id:"12",value:12,checked:12===t,onChange:()=>v(12)}),(0,s.jsx)("label",{htmlFor:"12",children:"12"})]}),(0,s.jsxs)("div",{className:"item",children:[(0,s.jsx)("input",{type:"radio",name:"count",id:"6",value:6,checked:6===t,onChange:()=>v(6)}),(0,s.jsx)("label",{htmlFor:"6",children:"6"})]})]}),t&&(0,s.jsx)(a,{usernames:d,setUsers:p,resetDices:()=>{p(d.map(e=>({...e,primary_roll:0,optional_roll:0})).sort((e,r)=>e.id-r.id))},resetAll:h})]}),6===t&&(0,s.jsx)(o,{prizes:m,setPrizes:f})]})}},430:function(e,r,t){"use strict";t.d(r,{Z:function(){return s}});var n=t(2265);function s(e,r){let[t,s]=(0,n.useState)(r),[l,i]=(0,n.useState)(!1);return(0,n.useEffect)(()=>{s((()=>{try{let t=window.localStorage.getItem(e);return t?JSON.parse(t):r}catch(e){return r}})()),i(!0)},[e]),(0,n.useEffect)(()=>{let r=r=>{r.key===e&&r.newValue&&s(JSON.parse(r.newValue))};return window.addEventListener("storage",r),()=>{window.removeEventListener("storage",r)}},[e]),[t,r=>{let n=r instanceof Function?r(t):r;(function(r){if(l)try{window.localStorage.setItem(e,JSON.stringify(r)),window.dispatchEvent(new StorageEvent("storage",{key:e,newValue:JSON.stringify(r)}))}catch(e){}})(n),s(n)}]}},9125:function(){},3009:function(){},622:function(e,r,t){"use strict";var n=t(2265),s=Symbol.for("react.element"),l=Symbol.for("react.fragment"),i=Object.prototype.hasOwnProperty,a=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,o={key:!0,ref:!0,__self:!0,__source:!0};function u(e,r,t){var n,l={},u=null,c=null;for(n in void 0!==t&&(u=""+t),void 0!==r.key&&(u=""+r.key),void 0!==r.ref&&(c=r.ref),r)i.call(r,n)&&!o.hasOwnProperty(n)&&(l[n]=r[n]);if(e&&e.defaultProps)for(n in r=e.defaultProps)void 0===l[n]&&(l[n]=r[n]);return{$$typeof:s,type:e,key:u,ref:c,props:l,_owner:a.current}}r.Fragment=l,r.jsx=u,r.jsxs=u},7437:function(e,r,t){"use strict";e.exports=t(622)}},function(e){e.O(0,[971,938,744],function(){return e(e.s=1676)}),_N_E=e.O()}]);